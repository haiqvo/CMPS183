(dp1
S'output'
p2
S"<class 'sqlite3.OperationalError'> database is locked"
p3
sS'layer'
p4
S'/home/hai/Projects/web2py/applications/FinalProject/models/scheduler.py'
p5
sS'code'
p6
S'import datetime\nimport random\n\ndef task_add():\n    date = request.now\n    bot_game = db(db.game.creator==None).count()\n    print bot_game\n    if bot_game == 0:\n        bot()\n    all_games = db(db.game.id>0).select()\n    for game in all_games:\n        if game.creator == None and game.is_over == False:\n            if date > game.date_ended:\n                game.update_record(is_over=True, winner=result())\n                db.commit()\n                bot()\n        if date > game.date_ended:\n            game.update_record(is_over=True) \n            db.commit()\n    return "test"\n\ndef bot():\n    current_time = request.now\n    end_time = current_time + datetime.timedelta(minutes=2)\n    db.game.insert(game_name="Bot Game", gametype="coin flip", is_over=False, teams=["Heads","Tails"], \n        date_started = current_time, date_ended = end_time)\n    db.commit()\n    #bot_game = db(db.game.creator == None).select()[0]\n\ndef result():\n    number = random.randint(0,100)\n    if number % 2 == 0:\n        result = "Heads"\n    else:\n        result = "Tails"\n    return result\n\nfrom gluon.scheduler import Scheduler\nscheduler = Scheduler(db,tasks=dict(demo1=task_add))\nscheduler.queue_task(\'demo1\', period=1800)'
p7
sS'snapshot'
p8
(dp9
S'exception'
p10
(dp11
S'__module__'
p12
S"'sqlite3'"
p13
sS'__getslice__'
p14
S"<method-wrapper '__getslice__' of OperationalError object>"
p15
sS'__str__'
p16
S"<method-wrapper '__str__' of OperationalError object>"
p17
sS'__reduce__'
p18
S'<built-in method __reduce__ of OperationalError object>'
p19
sS'__dict__'
p20
S'{}'
p21
sS'__sizeof__'
p22
S'<built-in method __sizeof__ of OperationalError object>'
p23
sS'__weakref__'
p24
S'None'
p25
sS'__init__'
p26
S"<method-wrapper '__init__' of OperationalError object>"
p27
sS'__setattr__'
p28
S"<method-wrapper '__setattr__' of OperationalError object>"
p29
sS'__reduce_ex__'
p30
S'<built-in method __reduce_ex__ of OperationalError object>'
p31
sS'__new__'
p32
S'<built-in method __new__ of type object>'
p33
sS'__format__'
p34
S'<built-in method __format__ of OperationalError object>'
p35
sS'__class__'
p36
S"<class 'sqlite3.OperationalError'>"
p37
sS'__doc__'
p38
S'None'
p39
sS'__getitem__'
p40
S"<method-wrapper '__getitem__' of OperationalError object>"
p41
sS'__setstate__'
p42
S'<built-in method __setstate__ of OperationalError object>'
p43
sS'__getattribute__'
p44
S"<method-wrapper '__getattribute__' of OperationalError object>"
p45
sS'args'
p46
S"('database is locked',)"
p47
sS'__subclasshook__'
p48
S'<built-in method __subclasshook__ of type object>'
p49
sS'__unicode__'
p50
S'<built-in method __unicode__ of OperationalError object>'
p51
sS'__delattr__'
p52
S"<method-wrapper '__delattr__' of OperationalError object>"
p53
sS'__repr__'
p54
S"<method-wrapper '__repr__' of OperationalError object>"
p55
sS'__hash__'
p56
S"<method-wrapper '__hash__' of OperationalError object>"
p57
ssS'evalue'
p58
S'database is locked'
p59
sS'request'
p60
cgluon.html
XML_unpickle
p61
(S's\xe0a\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">ajax</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">application</td><td style="vertical-align:top;">:</td><td><div>FinalProject</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">args</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>db</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cid</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">client</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">controller</td><td style="vertical-align:top;">:</td><td><div>appadmin</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_admin</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-2c797026-4623-4c3d-97b7-126c66b326c7<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_finalproject</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-a8352abf-d6bf-4d5c-8449-1e57433b823c<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_hw3</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-ea2453db-45f9-4f19-bb15-c626670c8a82<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_welcome</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-797d81d9-5853-4669-9416-ffa543da430b<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">env</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_ENCODING</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate, sdch</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_LANGUAGE</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CACHE_CONTROL</td><td style="vertical-align:top;">:</td><td><div>max-age=0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONNECTION</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_COOKIE</td><td style="vertical-align:top;">:</td><td><div>session_id_hw3=127.0.0.1-ea2453db-45f9-4f19-bb15-c626670c8a82; session_id_welcome=127.0.0.1-797d81d9-5853-4669-9416-ffa543da430b; session_id_admin=127.0.0.1-2c797026-4623-4c3d-97b7-126c66b326c7; session_id_finalproject=127.0.0.1-a8352abf-d6bf-4d5c-8449-1e57433b823c</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_HOST</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_REFERER</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000/FinalProject/appadmin/index</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_USER_AGENT</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">PATH_INFO</td><td style="vertical-align:top;">:</td><td><div>/FinalProject/appadmin/select/db</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">QUERY_STRING</td><td style="vertical-align:top;">:</td><td><div>query=db.scheduler_task.id%3E0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_ADDR</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_PORT</td><td style="vertical-align:top;">:</td><td><div>59980</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_METHOD</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SCRIPT_NAME</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_NAME</td><td style="vertical-align:top;">:</td><td><div>hai-SVE15128CXS</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PORT</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PROTOCOL</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_SOFTWARE</td><td style="vertical-align:top;">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/home/hai/Projects/web2py/applications/FinalProject/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/home/hai/Projects/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_options</td><td style="vertical-align:top;">:</td><td><div>&lt;Values at 0x7ff9c46f61b8: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;with_scheduler&#x27;: True, &#x27;ips&#x27;: [&#x27;127.0.1.1&#x27;], &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;scheduler_groups&#x27;: None, &#x27;port&#x27;: 8000, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;hai-SVE15128CXS&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: True, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;/home/hai/Projects/web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;minthreads&#x27;: None, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;profiler_dir&#x27;: None, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: &#x27;FinalProject&#x27;, &#x27;interfaces&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;gae&#x27;: None, &#x27;password&#x27;: &#x27;hv32347&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;import_models&#x27;: False, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/home/hai/Projects/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_encoding</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate, sdch</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_language</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_cache_control</td><td style="vertical-align:top;">:</td><td><div>max-age=0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_connection</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_cookie</td><td style="vertical-align:top;">:</td><td><div>session_id_hw3=127.0.0.1-ea2453db-45f9-4f19-bb15-c626670c8a82; session_id_welcome=127.0.0.1-797d81d9-5853-4669-9416-ffa543da430b; session_id_admin=127.0.0.1-2c797026-4623-4c3d-97b7-126c66b326c7; session_id_finalproject=127.0.0.1-a8352abf-d6bf-4d5c-8449-1e57433b823c</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_host</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_referer</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000/FinalProject/appadmin/index</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_user_agent</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>hai-SVE15128CXS</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>127.0.1.1</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path_info</td><td style="vertical-align:top;">:</td><td><div>/FinalProject/appadmin/select/db</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">query_string</td><td style="vertical-align:top;">:</td><td><div>query=db.scheduler_task.id%3E0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_addr</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_port</td><td style="vertical-align:top;">:</td><td><div>59980</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_method</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_uri</td><td style="vertical-align:top;">:</td><td><div>/FinalProject/appadmin/select/db?query=db.scheduler_task.id%3E0</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">script_name</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_name</td><td style="vertical-align:top;">:</td><td><div>hai-SVE15128CXS</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_port</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_protocol</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_software</td><td style="vertical-align:top;">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_path</td><td style="vertical-align:top;">:</td><td><div>/home/hai/Projects/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.9.11-stable+timestamp.2014.09.15.23.35.11</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0x7ff9c8d291e0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x7ff9c471b328&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.input</td><td style="vertical-align:top;">:</td><td><div>&lt;socket._fileobject object at 0x7ff9a168da50&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multiprocess</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0x7ff9c8d291e0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x7ff9c471b328&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_input</td><td style="vertical-align:top;">:</td><td><div>&lt;socket._fileobject object at 0x7ff9a168da50&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multiprocess</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">extension</td><td style="vertical-align:top;">:</td><td><div>html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">folder</td><td style="vertical-align:top;">:</td><td><div>/home/hai/Projects/web2py/applications/FinalProject/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">function</td><td style="vertical-align:top;">:</td><td><div>select</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">global_settings</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/home/hai/Projects/web2py/applications/FinalProject/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/home/hai/Projects/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_options</td><td style="vertical-align:top;">:</td><td><div>&lt;Values at 0x7ff9c46f61b8: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;with_scheduler&#x27;: True, &#x27;ips&#x27;: [&#x27;127.0.1.1&#x27;], &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;scheduler_groups&#x27;: None, &#x27;port&#x27;: 8000, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;hai-SVE15128CXS&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: True, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;/home/hai/Projects/web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;minthreads&#x27;: None, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;profiler_dir&#x27;: None, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: &#x27;FinalProject&#x27;, &#x27;interfaces&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;gae&#x27;: None, &#x27;password&#x27;: &#x27;hv32347&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;import_models&#x27;: False, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/home/hai/Projects/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>hai-SVE15128CXS</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>127.0.1.1</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.9.11-stable+timestamp.2014.09.15.23.35.11</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_https</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_local</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_restful</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_sheduler</td><td style="vertical-align:top;">:</td><td><div>FinalProject</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_shell</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">now</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2014, 12, 11, 3, 15, 15, 377396)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_args</td><td style="vertical-align:top;">:</td><td><div>db</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_extension</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">url</td><td style="vertical-align:top;">:</td><td><div>/FinalProject/appadmin/select/db</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">utcnow</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2014, 12, 11, 11, 15, 15, 377424)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">uuid</td><td style="vertical-align:top;">:</td><td><div>FinalProject/127.0.0.1.2014-12-11.03-15-15.a5fa5a81-82a2-41e2-8dfc-f116b8789561</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi</td><td style="vertical-align:top;">:</td><td><div>&lt;gluon.main.LazyWSGI object at 0x7ff9a169f690&gt;</div></td></tr></table></div>'
tRp62
sS'frames'
p63
(lp64
(dp65
S'file'
p66
S'/home/hai/Projects/web2py/gluon/restricted.py'
p67
sS'dump'
p68
(dp69
S'environment'
p70
S"{'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'ASSIGNJS': <function ASSIGNJS>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, 'CAT': <class 'gluon.html.CAT'>, ...}"
p71
sS'ccode'
p72
S'<code object <module> at 0x7ff9a1751db0, file "/...ations/FinalProject/models/scheduler.py", line 1>'
p73
ssS'lnum'
p74
I224
sS'lines'
p75
(dp76
I224
S'        exec ccode in environment'
p77
sI225
S'    except HTTP:'
p78
sI226
S'        raise'
p79
sI227
S'    except RestrictedError:'
p80
sI228
S'        # do not encapsulate (obfuscate) the original RestrictedError'
p81
sI219
S'    try:'
p82
sI220
S'        if isinstance(code, types.CodeType):'
p83
sI221
S'            ccode = code'
p84
sI222
S'        else:'
p85
sI223
S'            ccode = compile2(code, layer)'
p86
ssS'call'
p87
S'(code="import datetime\\nimport random\\n\\ndef task_add():\\n ..._add))\\nscheduler.queue_task(\'demo1\', period=1800)", environment={\'A\': <class \'gluon.html.A\'>, \'ANY_OF\': <class \'gluon.validators.ANY_OF\'>, \'ASSIGNJS\': <function ASSIGNJS>, \'Auth\': <class \'gluon.tools.Auth\'>, \'B\': <class \'gluon.html.B\'>, \'BEAUTIFY\': <class \'gluon.html.BEAUTIFY\'>, \'BODY\': <class \'gluon.html.BODY\'>, \'BR\': <class \'gluon.html.BR\'>, \'BUTTON\': <class \'gluon.html.BUTTON\'>, \'CAT\': <class \'gluon.html.CAT\'>, ...}, layer=\'/home/hai/Projects/web2py/applications/FinalProject/models/scheduler.py\')'
p88
sS'func'
p89
S'restricted'
p90
sa(dp91
g66
S'/home/hai/Projects/web2py/applications/FinalProject/models/scheduler.py'
p92
sg68
(dp93
S'scheduler.queue_task'
p94
S'<bound method Scheduler.queue_task of <Scheduler(Thread-19, initial daemon)>>'
p95
sS'period'
p96
S'undefined'
p97
sS'scheduler'
p98
S'<Scheduler(Thread-19, initial daemon)>'
p99
ssg74
I40
sg75
(dp100
I32
S'    if number % 2 == 0:'
p101
sI33
S'        result = "Heads"'
p102
sI34
S'    else:'
p103
sI35
S'        result = "Tails"'
p104
sI36
S'    return result'
p105
sI37
S''
sI38
S'from gluon.scheduler import Scheduler'
p106
sI39
S'scheduler = Scheduler(db,tasks=dict(demo1=task_add))'
p107
sI40
S"scheduler.queue_task('demo1', period=1800)"
p108
sI31
S'    number = random.randint(0,100)'
p109
ssg87
S'()'
p110
sg89
S'<module>'
p111
sa(dp112
g66
S'/home/hai/Projects/web2py/gluon/scheduler.py'
p113
sg68
(dp114
S'kwargs'
p115
S"{'period': 1800}"
p116
ssg74
I1282
sg75
(dp117
I1280
S'            vars=tvars,'
p118
sI1281
S'            uuid=tuuid,'
p119
sI1282
S'            **kwargs)'
p120
sI1283
S'        if not rtn.errors:'
p121
sI1284
S'            rtn.uuid = tuuid'
p122
sI1285
S'            if immediate:'
p123
sI1286
S'                self.db('
p124
sI1277
S'            function_name=function,'
p125
sI1278
S'            task_name=tname,'
p126
sI1279
S'            args=targs,'
p127
ssg87
S"(self=<Scheduler(Thread-19, initial daemon)>, function='demo1', pargs=[], pvars={}, **kwargs={'period': 1800})"
p128
sg89
S'queue_task'
p129
sa(dp130
g66
S'/home/hai/Projects/web2py/gluon/dal.py'
p131
sg68
(dp132
S'].validate'
p133
g97
sS'self'
p134
S'<Table scheduler_task (id,application_name,task_...times_failed,last_run_time,assigned_worker_name)>'
p135
sS'key'
p136
S"'uuid'"
p137
sS'value'
p138
S"'03d0d3e9-8729-4d0e-8f6f-7af5add91159'"
p139
sS'error'
p140
g97
ssg74
I9328
sg75
(dp141
I9323
S'    def validate_and_insert(self, **fields):'
p142
sI9324
S'        response = Row()'
p143
sI9325
S'        response.errors = Row()'
p144
sI9326
S'        new_fields = copy.copy(fields)'
p145
sI9327
S'        for key, value in fields.iteritems():'
p146
sI9328
S'            value, error = self[key].validate(value)'
p147
sI9329
S'            if error:'
p148
sI9330
S'                response.errors[key] = "%s" % error'
p149
sI9331
S'            else:'
p150
sI9332
S'                new_fields[key] = value'
p151
ssg87
S"(self=<Table scheduler_task (id,application_name,task_...times_failed,last_run_time,assigned_worker_name)>, **fields={'args': '[]', 'function_name': 'demo1', 'period': 1800, 'task_name': 'demo1', 'uuid': '03d0d3e9-8729-4d0e-8f6f-7af5add91159', 'vars': '{}'})"
p152
sg89
S'validate_and_insert'
p153
sa(dp154
g66
S'/home/hai/Projects/web2py/gluon/dal.py'
p155
sg68
(dp156
S'validator'
p157
S'<gluon.validators.IS_NOT_IN_DB object>'
p158
sS'value'
p159
S"'03d0d3e9-8729-4d0e-8f6f-7af5add91159'"
p160
sS'error'
p161
g97
ssg74
I10319
sg75
(dp162
I10314
S'            return ((value if value != self.map_none else None), None)'
p163
sI10315
S'        requires = self.requires'
p164
sI10316
S'        if not isinstance(requires, (list, tuple)):'
p165
sI10317
S'            requires = [requires]'
p166
sI10318
S'        for validator in requires:'
p167
sI10319
S'            (value, error) = validator(value)'
p168
sI10320
S'            if error:'
p169
sI10321
S'                return (value, error)'
p170
sI10322
S'        return ((value if value != self.map_none else None), None)'
p171
sI10323
S''
ssg87
S"(self=<gluon.dal.Field object>, value='03d0d3e9-8729-4d0e-8f6f-7af5add91159')"
p172
sg89
S'validate'
p173
sa(dp174
g66
S'/home/hai/Projects/web2py/gluon/validators.py'
p175
sg68
(dp176
S'subset'
p177
S"<Set (scheduler_task.uuid = '03d0d3e9-8729-4d0e-8f6f-7af5add91159')>"
p178
sS'orderby_on_limitby'
p179
g97
sS'table._id'
p180
S'<gluon.dal.Field object>'
p181
sS'builtinFalse'
p182
S'False'
p183
sS'subset.select'
p184
S"<bound method Set.select of <Set (scheduler_task.uuid = '03d0d3e9-8729-4d0e-8f6f-7af5add91159')>>"
p185
sS'limitby'
p186
g97
sS'field'
p187
S'<gluon.dal.Field object>'
p188
sS'table'
p189
S'<Table scheduler_task (id,application_name,task_...times_failed,last_run_time,assigned_worker_name)>'
p190
sS').first'
p191
g97
sS'row'
p192
g97
ssg74
I689
sg75
(dp193
I684
S'            fields = [table[f] for f in id]'
p194
sI685
S'            row = subset.select(*fields, **dict(limitby=(0, 1), orderby_on_limitby=False)).first()'
p195
sI686
S'            if row and any(str(row[f]) != str(id[f]) for f in id):'
p196
sI687
S'                return (value, translate(self.error_message))'
p197
sI688
S'        else:'
p198
sI689
S'            row = subset.select(table._id, field, limitby=(0, 1), orderby_on_limitby=False).first()'
p199
sI690
S'            if row and str(row.id) != str(id):'
p200
sI691
S'                return (value, translate(self.error_message))'
p201
sI692
S'        return (value, None)'
p202
sI693
S''
ssg87
S"(self=<gluon.validators.IS_NOT_IN_DB object>, value='03d0d3e9-8729-4d0e-8f6f-7af5add91159')"
p203
sg89
S'__call__'
p204
sa(dp205
g66
S'/home/hai/Projects/web2py/gluon/dal.py'
p206
sg68
(dp207
S'self.query'
p208
S"<Query (scheduler_task.uuid = '03d0d3e9-8729-4d0e-8f6f-7af5add91159')>"
p209
sS'adapter.select'
p210
S'<bound method SQLiteAdapter.select of <gluon.dal.SQLiteAdapter object>>'
p211
sS'fields'
p212
S'[<gluon.dal.Field object>, <gluon.dal.Field object>]'
p213
sS'adapter'
p214
S'<gluon.dal.SQLiteAdapter object>'
p215
sS'attributes'
p216
S"{'limitby': (0, 1), 'orderby_on_limitby': False}"
p217
sS'self'
p218
S"<Set (scheduler_task.uuid = '03d0d3e9-8729-4d0e-8f6f-7af5add91159')>"
p219
ssg74
I10749
sg75
(dp220
I10752
S'        return Expression(self.db, self._select(*fields, **attributes))'
p221
sI10753
S''
sI10744
S"                                    attributes.get('join', None),"
p222
sI10745
S"                                    attributes.get('left', None),"
p223
sI10746
S"                                    attributes.get('orderby', None),"
p224
sI10747
S"                                    attributes.get('groupby', None))"
p225
sI10748
S'        fields = adapter.expand_all(fields, tablenames)'
p226
sI10749
S'        return adapter.select(self.query, fields, attributes)'
p227
sI10750
S''
sI10751
S'    def nested_select(self, *fields, **attributes):'
p228
ssg87
S"(self=<Set (scheduler_task.uuid = '03d0d3e9-8729-4d0e-8f6f-7af5add91159')>, *fields=[<gluon.dal.Field object>, <gluon.dal.Field object>], **attributes={'limitby': (0, 1), 'orderby_on_limitby': False})"
p229
sg89
S'select'
p230
sa(dp231
g66
S'/home/hai/Projects/web2py/gluon/dal.py'
p232
sg68
(dp233
S'fields'
p234
S'[<gluon.dal.Field object>, <gluon.dal.Field object>]'
p235
sS'self'
p236
S'<gluon.dal.SQLiteAdapter object>'
p237
sS').select'
p238
S'<bound method SQLiteAdapter.select of <gluon.dal.SQLiteAdapter object>>'
p239
sS'attributes'
p240
S"{'limitby': (0, 1), 'orderby_on_limitby': False}"
p241
sS'global SQLiteAdapter'
p242
S"<class 'gluon.dal.SQLiteAdapter'>"
p243
sS'query'
p244
S"<Query (scheduler_task.uuid = '03d0d3e9-8729-4d0e-8f6f-7af5add91159')>"
p245
sS'builtinsuper'
p246
S"<type 'super'>"
p247
ssg74
I2472
sg75
(dp248
I2467
S'        Note that the entire database, rather than one record, is locked'
p249
sI2468
S'        (it will be locked eventually anyway by the following UPDATE).'
p250
sI2469
S'        """'
p251
sI2470
S"        if attributes.get('for_update', False) and not 'cache' in attributes:"
p252
sI2471
S"            self.execute('BEGIN IMMEDIATE TRANSACTION;')"
p253
sI2472
S'        return super(SQLiteAdapter, self).select(query, fields, attributes)'
p254
sI2473
S''
sI2474
S''
sI2475
S'class SpatiaLiteAdapter(SQLiteAdapter):'
p255
sI2476
S"    drivers = ('sqlite3', 'sqlite2')"
p256
ssg87
S"(self=<gluon.dal.SQLiteAdapter object>, query=<Query (scheduler_task.uuid = '03d0d3e9-8729-4d0e-8f6f-7af5add91159')>, fields=[<gluon.dal.Field object>, <gluon.dal.Field object>], attributes={'limitby': (0, 1), 'orderby_on_limitby': False})"
p257
sg89
g230
sa(dp258
g66
S'/home/hai/Projects/web2py/gluon/dal.py'
p259
sg68
(dp260
S'fields'
p261
S'[<gluon.dal.Field object>, <gluon.dal.Field object>]'
p262
sS'self'
p263
S'<gluon.dal.SQLiteAdapter object>'
p264
sS'attributes'
p265
S"{'limitby': (0, 1), 'orderby_on_limitby': False}"
p266
sS'self._select_aux'
p267
S'<bound method SQLiteAdapter._select_aux of <gluon.dal.SQLiteAdapter object>>'
p268
sS'sql'
p269
S'"SELECT  scheduler_task.id, scheduler_task.uuid F...9-8729-4d0e-8f6f-7af5add91159\') LIMIT 1 OFFSET 0;"'
p270
ssg74
I1881
sg75
(dp271
I1876
S'            return cache_model('
p272
sI1877
S'                key,'
p273
sI1878
S'                lambda self=self, args=args: self._select_aux(*args),'
p274
sI1879
S'                time_expire)'
p275
sI1880
S'        else:'
p276
sI1881
S'            return self._select_aux(sql, fields, attributes)'
p277
sI1882
S''
sI1883
S'    def _count(self, query, distinct=None):'
p278
sI1884
S'        tablenames = self.tables(query)'
p279
sI1885
S'        if query:'
p280
ssg87
S"(self=<gluon.dal.SQLiteAdapter object>, query=<Query (scheduler_task.uuid = '03d0d3e9-8729-4d0e-8f6f-7af5add91159')>, fields=[<gluon.dal.Field object>, <gluon.dal.Field object>], attributes={'limitby': (0, 1), 'orderby_on_limitby': False})"
p281
sg89
g230
sa(dp282
g66
S'/home/hai/Projects/web2py/gluon/dal.py'
p283
sg68
(dp284
S'self'
p285
S'<gluon.dal.SQLiteAdapter object>'
p286
sS'self.execute'
p287
S'<bound method SQLiteAdapter.execute of <gluon.dal.SQLiteAdapter object>>'
p288
sS'sql'
p289
S'"SELECT  scheduler_task.id, scheduler_task.uuid F...9-8729-4d0e-8f6f-7af5add91159\') LIMIT 1 OFFSET 0;"'
p290
ssg74
I1846
sg75
(dp291
I1841
S''
sI1842
S'    def _select_aux(self, sql, fields, attributes):'
p292
sI1843
S'        args_get = attributes.get'
p293
sI1844
S"        cache = args_get('cache',None)"
p294
sI1845
S'        if not cache:'
p295
sI1846
S'            self.execute(sql)'
p296
sI1847
S'            rows = self._fetchall()'
p297
sI1848
S'        else:'
p298
sI1849
S'            (cache_model, time_expire) = cache'
p299
sI1850
S"            key = self.uri + '/' + sql + '/rows'"
p300
ssg87
S'(self=<gluon.dal.SQLiteAdapter object>, sql="SELECT  scheduler_task.id, scheduler_task.uuid F...9-8729-4d0e-8f6f-7af5add91159\') LIMIT 1 OFFSET 0;", fields=[<gluon.dal.Field object>, <gluon.dal.Field object>], attributes={\'limitby\': (0, 1), \'orderby_on_limitby\': False})'
p301
sg89
S'_select_aux'
p302
sa(dp303
g66
S'/home/hai/Projects/web2py/gluon/dal.py'
p304
sg68
(dp305
S'a'
S'("SELECT  scheduler_task.id, scheduler_task.uuid F...9-8729-4d0e-8f6f-7af5add91159\') LIMIT 1 OFFSET 0;",)'
p306
sS'self'
p307
S'<gluon.dal.SQLiteAdapter object>'
p308
sS'b'
g21
sS'self.log_execute'
p309
S'<bound method SQLiteAdapter.log_execute of <gluon.dal.SQLiteAdapter object>>'
p310
ssg74
I1967
sg75
(dp311
I1962
S'        self.db._timings.append((command, time.time()-t0))'
p312
sI1963
S'        del self.db._timings[:-TIMINGSSIZE]'
p313
sI1964
S'        return ret'
p314
sI1965
S''
sI1966
S'    def execute(self, *a, **b):'
p315
sI1967
S'        return self.log_execute(*a, **b)'
p316
sI1968
S''
sI1969
S'    def represent(self, obj, fieldtype):'
p317
sI1970
S'        field_is_type = fieldtype.startswith'
p318
sI1971
S'        if isinstance(obj, CALLABLETYPES):'
p319
ssg87
S'(self=<gluon.dal.SQLiteAdapter object>, *a=("SELECT  scheduler_task.id, scheduler_task.uuid F...9-8729-4d0e-8f6f-7af5add91159\') LIMIT 1 OFFSET 0;",), **b={})'
p320
sg89
S'execute'
p321
sa(dp322
g66
S'/home/hai/Projects/web2py/gluon/dal.py'
p323
sg68
(dp324
S'a'
S'("SELECT  scheduler_task.id, scheduler_task.uuid F...9-8729-4d0e-8f6f-7af5add91159\') LIMIT 1 OFFSET 0;",)'
p325
sS'b'
g21
sS'self'
p326
S'<gluon.dal.SQLiteAdapter object>'
p327
sS'ret'
p328
g97
sS'self.cursor'
p329
S'<sqlite3.Cursor object>'
p330
sS'command'
p331
S'"SELECT  scheduler_task.id, scheduler_task.uuid F...9-8729-4d0e-8f6f-7af5add91159\') LIMIT 1 OFFSET 0;"'
p332
sS'self.cursor.execute'
p333
S'<built-in method execute of sqlite3.Cursor object>'
p334
ssg74
I1961
sg75
(dp335
I1956
S'            command = self.filter_sql_command(command)'
p336
sI1957
S'        if self.db._debug:'
p337
sI1958
S"            LOGGER.debug('SQL: %s' % command)"
p338
sI1959
S'        self.db._lastsql = command'
p339
sI1960
S'        t0 = time.time()'
p340
sI1961
S'        ret = self.cursor.execute(command, *a[1:], **b)'
p341
sI1962
S'        self.db._timings.append((command, time.time()-t0))'
p342
sI1963
S'        del self.db._timings[:-TIMINGSSIZE]'
p343
sI1964
S'        return ret'
p344
sI1965
S''
ssg87
S'(self=<gluon.dal.SQLiteAdapter object>, *a=("SELECT  scheduler_task.id, scheduler_task.uuid F...9-8729-4d0e-8f6f-7af5add91159\') LIMIT 1 OFFSET 0;",), **b={})'
p345
sg89
S'log_execute'
p346
sasS'pyver'
p347
S'Python 2.7.6: /usr/bin/python (prefix: /usr)'
p348
sS'session'
p349
g61
(S's\x01\n\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">auth</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">expiration</td><td style="vertical-align:top;">:</td><td><div>3600</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">hmac_key</td><td style="vertical-align:top;">:</td><td><div>1f9059df-ff5e-4f58-8483-0167a7ed7da2</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_visit</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2014, 12, 11, 3, 12, 37, 159799)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remember_me</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">user</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">email</td><td style="vertical-align:top;">:</td><td><div>4@4.com</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">first_name</td><td style="vertical-align:top;">:</td><td><div>Test</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">id</td><td style="vertical-align:top;">:</td><td><div>3L</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_name</td><td style="vertical-align:top;">:</td><td><div>Test</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">registration_id</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">registration_key</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">reset_password_key</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">user_groups</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">3</td><td style="vertical-align:top;">:</td><td><div>user_3</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_orderby</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">last_query</td><td style="vertical-align:top;">:</td><td><div>db.scheduler_task.id&gt;0</div></td></tr></table></div>'
tRp350
sS'etype'
p351
S"<class 'sqlite3.OperationalError'>"
p352
sS'date'
p353
S'Thu Dec 11 03:15:20 2014'
p354
sS'response'
p355
g61
(S's\xd6\x1e\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">body</td><td style="vertical-align:top;">:</td><td><div>&lt;cStringIO.StringO object at 0x7ff9a16717d8&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_finalproject</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-a8352abf-d6bf-4d5c-8449-1e57433b823c<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div>/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">delimiters</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>{{</div></td></tr><tr><td><div>}}</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">files</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">form_label_separator</td><td style="vertical-align:top;">:</td><td><div>: </div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">formstyle</td><td style="vertical-align:top;">:</td><td><div>table3cols</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generic_patterns</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>*</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">google_analytics_id</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">headers</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">X-Powered-By</td><td style="vertical-align:top;">:</td><td><div>web2py</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">logo</td><td style="vertical-align:top;">:</td><td><div><a class="brand" href="/FinalProject/default/index"><b>Gambling Man!</b></a></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menu</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div><table><tr><td><div>Home</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/FinalProject/default/index</div></td></tr><tr><td><div><table></table></div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Join Game</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/FinalProject/game_menu/index</div></td></tr><tr><td><div><table></table></div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>My Games</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/FinalProject/profile/index</div></td></tr><tr><td><div><table></table></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">meta</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">author</td><td style="vertical-align:top;">:</td><td><div>Your Name &lt;you@example.com&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generator</td><td style="vertical-align:top;">:</td><td><div>Web2py Web Framework</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">keywords</td><td style="vertical-align:top;">:</td><td><div>web2py, python, framework</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">models_to_run</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>^\\w+\\.py$</div></td></tr><tr><td><div>^appadmin/\\w+\\.py$</div></td></tr><tr><td><div>^appadmin/select/\\w+\\.py$</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">postprocessing</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_client</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_compression_level</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_expires</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_key</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_data_name</td><td style="vertical-align:top;">:</td><td><div>session_data_finalproject</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_file</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;/home/hai/Projects/web2py/applications/FinalProject/sessions/128/192/127.0.0.1-a8352abf-d6bf-4d5c-8449-1e57433b823c&#x27;, mode &#x27;rb+&#x27; at 0x7ff9a1656a50&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_filename</td><td style="vertical-align:top;">:</td><td><div>/home/hai/Projects/web2py/applications/FinalProject/sessions/127.0.0.1-a8352abf-d6bf-4d5c-8449-1e57433b823c</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_hash</td><td style="vertical-align:top;">:</td><td><div>9b2a6f0ad24ce5b62d3e8f15acd6ec60</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-a8352abf-d6bf-4d5c-8449-1e57433b823c</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_name</td><td style="vertical-align:top;">:</td><td><div>session_id_finalproject</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_locked</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_masterapp</td><td style="vertical-align:top;">:</td><td><div>FinalProject</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_new</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_storage_type</td><td style="vertical-align:top;">:</td><td><div>file</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">status</td><td style="vertical-align:top;">:</td><td><div>200</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">subtitle</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">title</td><td style="vertical-align:top;">:</td><td><div>Gambling Man!</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">view</td><td style="vertical-align:top;">:</td><td><div>appadmin/select.html</div></td></tr></table></div>'
tRp356
sS'locals'
p357
(dp358
S'a'
S'("SELECT  scheduler_task.id, scheduler_task.uuid F...9-8729-4d0e-8f6f-7af5add91159\') LIMIT 1 OFFSET 0;",)'
p359
sS'self'
p360
S'<gluon.dal.SQLiteAdapter object>'
p361
sS'b'
g21
sS'command'
p362
S'"SELECT  scheduler_task.id, scheduler_task.uuid F...9-8729-4d0e-8f6f-7af5add91159\') LIMIT 1 OFFSET 0;"'
p363
sS't0'
p364
S'1418296515.62205'
p365
sssS'traceback'
p366
S'Traceback (most recent call last):\n  File "/home/hai/Projects/web2py/gluon/restricted.py", line 224, in restricted\n    exec ccode in environment\n  File "/home/hai/Projects/web2py/applications/FinalProject/models/scheduler.py", line 40, in <module>\n    scheduler.queue_task(\'demo1\', period=1800)\n  File "/home/hai/Projects/web2py/gluon/scheduler.py", line 1282, in queue_task\n    **kwargs)\n  File "/home/hai/Projects/web2py/gluon/dal.py", line 9328, in validate_and_insert\n    value, error = self[key].validate(value)\n  File "/home/hai/Projects/web2py/gluon/dal.py", line 10319, in validate\n    (value, error) = validator(value)\n  File "/home/hai/Projects/web2py/gluon/validators.py", line 689, in __call__\n    row = subset.select(table._id, field, limitby=(0, 1), orderby_on_limitby=False).first()\n  File "/home/hai/Projects/web2py/gluon/dal.py", line 10749, in select\n    return adapter.select(self.query, fields, attributes)\n  File "/home/hai/Projects/web2py/gluon/dal.py", line 2472, in select\n    return super(SQLiteAdapter, self).select(query, fields, attributes)\n  File "/home/hai/Projects/web2py/gluon/dal.py", line 1881, in select\n    return self._select_aux(sql, fields, attributes)\n  File "/home/hai/Projects/web2py/gluon/dal.py", line 1846, in _select_aux\n    self.execute(sql)\n  File "/home/hai/Projects/web2py/gluon/dal.py", line 1967, in execute\n    return self.log_execute(*a, **b)\n  File "/home/hai/Projects/web2py/gluon/dal.py", line 1961, in log_execute\n    ret = self.cursor.execute(command, *a[1:], **b)\nOperationalError: database is locked\n'
p367
s.